KISAS
=====
_Insert general description of the project here_

Software reference documentation
--------------------------------
The documentation for the classes, its members and methods is generated by Doxygen.
Doxygen is a documentation generator, a tool for writing software reference documentation. The documentation is written within code, and is thus relatively easy to keep up to date. Doxygen can cross reference documentation and code, so that the reader of a document can easily refer to the actual code.

#### How to generate documentation
In the source tree a configuration file `Doxyfile` is provided. This file is condigured for this project and shouldn't need to change. However, feel free to change configuration to personal preferences. In order to generate documentation make sure the following tools are installed and added to the `PATH` environment variable. Both tools are available for Windows and Linux.

* Doxygen (http://www.doxygen.org)
* Graphviz (http://www.graphviz.org)

Once installed go to the root directory of the project and excecute the following command:
```shell
doxygen Doxyfile
```
Now a directory `doc` should be created (if not existing yet), and the reference documentation is located in there.
If one continues to work on this project, it is advised to update and create documentation in the style found elsewhere in the project. In this way the reference documenation is always complete and up to date.

Install toolchain (Windows)
---------------------------
The KISAS project is build on top of the Particle, a Internet-of-Things platform. See https://www.particle.io/ for more information. For this reason the software heavily depends on the Particle firmware. Normally one can create and build a Particle application in the online IDE. However we choose to develop and compile the application offline for the following reasons:
1. **Debugging** Usage of a GDB debugger is possible when code is offline compiled with debug information. This makes debugging problems within the code much more easier than only have a serial port available for debugging code. 
2. **Code navigation** When project complexity increases and the number of lines of code grows. Navigating trough the code becomes more challanging. Offline we have the availability of tools like Eclips to easily navigate through code and discover problems already before compiling.
3. **Firmware changes** Possibly there are application specification that require some modification of the Particle firmware itself.

#### Set up build environment (CYGWIN)
_Note: This installation guide is based on the description on https://docs.particle.io/faq/particle-tools/local-build/electron/_

1. Download the latest version of cygwin form https://cygwin.com/. Also see this website for more details on installation if you are not familiar with cygwin. Following steps assume basic understanding of cygwin and its installation process.
2. Install cygwin on a convenient location (e.g. `C:/cygwin/`).
3. Install the following packages:
	* `Make`
	* `Git`
4. Download the GNU ARM Embedded Toolchain (5.4-2016q3). _Insert link here_
5. Install GNU ARM Embedded Toolchain on a convenient location. At the end of the installation uncheck `Launch gccvar.bat` and `Add registry information` to prevent interferance with other toolchains already installed on your system.
6. Download [buildtools_win.zip](https://docs.particle.io/assets/files/buildtools_win.zip). Then copy the crc32.exe and xxd.exe application to a suitable location where the executables are found. It is recommend to copy it in the `/usr/local/bin` directory of your cygwin installation. _Note: If for whatever reason this download is not available anymore, you should compile `crc32` and `xxd` from source. These applications are part of fairly common linux packages (so source should be easily found). Build the source against the cygwin DLL. See https://cygwin.com/ for more information about compiling application for usage with cygwin._


_If you are planning to only build within Eclipse, you can skip the following steps. However it is recommend to set this up anyway_

5. In the installation root directory of cygwin edit the file `/home/<user>/.bash_profile`. If the GNU ARM Toolchain is installed, for example, in `C:\GNU Tools ARM Embedded\5.4 2016q3` add the following line to `.bash_profile`: `PATH="/cygdrive/c/GNU Tools ARM Embedded/5.4 2016q3/bin:${PATH}"`. _Note the backward slashes are converterted to forward slashes._
6. Start cygwin and check if the command `which arm-none-eabi-gcc` points to the directory where the ARM Toolchain is installed. You can check version of the toolchain by using the command `arm-none-eabi-gcc --version`
